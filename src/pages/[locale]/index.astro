---
import Layout from '@/layouts/Layout.astro';
import Banner from '@/components/Banner.astro';
import Hero from '@/components/home/Hero.astro';
import TrustedBy from '@/components/home/TrustedBy.astro';
import Services from '@/components/home/Services.astro';
import { LOCALES } from '@/i18n/utils';

// Prerender for all locales
export const prerender = true;

export function getStaticPaths() {
  return LOCALES.map((locale) => ({
    params: { locale },
  }));
}
---

<Layout title="node101">
  <Banner server:defer>
    <div slot="fallback" class={`
      flex
      h-(--banner-height)
      w-full
      items-center
      overflow-hidden
      bg-primary
      transition-[height,opacity]
      duration-300
    `}>
      <div class="flex flex-1 items-center justify-center">
        <div class={`
          h-3
          w-48
          animate-pulse
          rounded
          bg-primary-foreground/20
        `}></div>
      </div>
      <div class="px-3">
        <div class="size-3.5 animate-pulse rounded bg-primary-foreground/20"></div>
      </div>
    </div>
  </Banner>
  <Hero />
  <TrustedBy />
  <Services />
</Layout>
